{% extends 'base_logged.html' %}

{% block header %}
    {{ super() }}
<script>
    removeURL = "{{ url_for('xhr.bookingsRemove') }}";
</script>
<script src="{{ url_for('static', filename='bookings.js') }}"></script>
{% endblock %}

{% block container %}

    <div id="delete_confirmation" class="modal">
        <div class="modal-content">
            <h4>Are you sure to delete this booking?</h4>
            <p id="delete_confirmation_msg"></p>
        </div>
        <div class="modal-footer">
            <a href="#!" id="delete_confirmation_yes" class="modal-close waves-effect waves-green btn-flat">Yes</a>
            <a href="#!" class="modal-close waves-effect waves-green btn-flat">No</a>
        </div>
  </div>

<table id="bookingsTable">
    <tr>
        {% if context == 'all' %}
        <th>User</th>
        {% endif %}
        <th>Zone</th>
        <th>Seat</th>
        <th>From</th>
        <th>To</th>
        <th></th>
    </tr>

    {% for row in data %}
    <tr class="book_row" data-id="{{row['id']}}">
        {% if context == 'all' %}
        <td class="book_login">{{row['login']}}</td>
        {% endif %}
        <td class="book_zone">{{row['zone_name']}}</td>
        <td class="book_seat">{{row['seat_name']}}</td>
        <td class="book_from">{{formatTimestamp(row['fromTS'])}}</td>
        <td class="book_to">{{formatTimestamp(row['toTS'])}}</td>
        <td><a class="book_remove" href="#">remove</a>
        </td>
    </tr>
    {% endfor%}
</table>

{% endblock %}
